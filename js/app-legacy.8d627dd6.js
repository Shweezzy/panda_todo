(function(){"use strict";var t={1212:function(t,e,o){o(6992),o(8674),o(9601),o(7727);var n=o(144),s=function(){var t=this,e=t.$createElement,o=t._self._c||e;return o("div",{attrs:{id:"app"}},[o("router-view")],1)},i=[],a=o(1001),r={},c=(0,a.Z)(r,s,i,!1,null,null,null),d=c.exports,l=o(8345),u=function(){var t=this,e=t.$createElement,o=t._self._c||e;return o("div",{staticClass:"container"},[t._m(0),o("div",{staticClass:"todos"},[t.notes.length?t._e():o("div",{staticClass:"todos__empty"},[o("hr"),o("h3",[t._v("There is no notes available. To create new one click down here")]),o("button",{staticClass:"todos__add",on:{click:function(e){return t.$router.push("/todos")}}},[t._v("Add new todo")]),o("hr")]),o("vue-scroll",[o("ul",t._l(t.notes,(function(e,n){return o("note-item",{key:n,attrs:{note:e},on:{"remove-note":t.removingNote}})})),1)]),t.notes.length?o("button",{staticClass:"todos__add-note head",on:{click:function(e){return t.$router.push("/todos")}}},[t._v("Add new todo")]):t._e()],1)])},h=[function(){var t=this,e=t.$createElement,o=t._self._c||e;return o("div",{staticClass:"head center"},[o("h1",[t._v("Todo list")])])}],f=(o(4553),o(561),o(8862),function(){var t=this,e=t.$createElement,o=t._self._c||e;return o("li",{staticClass:"note__item"},[o("div",{staticClass:"note__wrapper"},[o("h1",{on:{click:t.goToNote}},[t._v(t._s(t.note.title||"Empty note title :("))]),o("div",{staticClass:"note__btn"},[o("button",{staticClass:"edit",on:{click:t.goToNote}}),o("button",{staticClass:"remove",on:{click:function(e){t.showModal=!0}}})])]),t.note.todos.length?o("div",{staticClass:"note__todos"},[t._l(t.note.todos.slice(0,3),(function(e,n){return o("li",{key:n,attrs:{todo:e}},[t._v(t._s(e.text||"empty todo"))])})),t.note.todos.length>2?o("span",[t._v("...")]):t._e()],2):t._e(),o("hr"),t.showModal?o("popup",{on:{close:function(e){t.showModal=!1},usersDecision:t.changeDecision}}):t._e()],1)}),p=[],v=function(){var t=this,e=t.$createElement,o=t._self._c||e;return o("transition",{attrs:{name:"modal"}},[o("div",{staticClass:"modal-mask"},[o("div",{staticClass:"modal-wrapper"},[o("div",{staticClass:"modal-container"},[o("div",{staticClass:"modal-body"},[t._t("body",(function(){return[t._v(" Are you sure you want to do that? ")]}))],2),o("div",{staticClass:"modal-footer"},[o("button",{staticClass:"modal-default-button",on:{click:function(e){return t.handler(!1)}}},[t._v("No, wait")]),o("button",{staticClass:"modal-default-button",on:{click:t.handler}},[t._v("Sure")])])])])])])},m=[],_={methods:{handler:function(){var t=arguments.length>0&&void 0!==arguments[0]&&arguments[0];this.$emit("usersDecision",t),this.$emit("close")}}},g=_,y=(0,a.Z)(g,v,m,!1,null,"2190f651",null),b=y.exports,x={components:{Popup:b},props:{note:{type:Object,default:function(){}}},data:function(){return{showModal:!1,usersDecision:!0,fetchNotes:[]}},methods:{goToNote:function(){this.$router.push("/note/".concat(this.note.noteId))},changeDecision:function(t){this.usersDecision=t,this.deleteNote()},deleteNote:function(){this.usersDecision&&this.$emit("remove-note",this.note)}}},w=x,N=(0,a.Z)(w,f,p,!1,null,"473a0e70",null),k=N.exports,C={name:"HomePage",components:{NoteItem:k},data:function(){return{notes:[]}},methods:{removingNote:function(t){var e=this.notes.findIndex((function(e){return e===t}));this.notes.splice(e,1),localStorage.setItem("notes",JSON.stringify(this.notes))}},mounted:function(){this.notes=JSON.parse(localStorage.getItem("notes"))||[],this.notes.length||localStorage.setItem("notes",JSON.stringify(this.notes))}},I=C,O=(0,a.Z)(I,u,h,!1,null,"daa0e636",null),$=O.exports,S=function(){var t=this,e=t.$createElement,o=t._self._c||e;return o("div",{staticClass:"todo-page container"},[t._m(0),o("hr"),o("div",{staticClass:"todo__form"},[o("h2",[t._v("Note title:")]),o("input",{directives:[{name:"model",rawName:"v-model",value:t.note.title,expression:"note.title"}],attrs:{type:"text",placeholder:"type text here..."},domProps:{value:t.note.title},on:{input:function(e){e.target.composing||t.$set(t.note,"title",e.target.value)}}}),o("div",{staticClass:"todo__actions"},[o("div",{directives:[{name:"show",rawName:"v-show",value:t.histotyIndex>0,expression:"histotyIndex > 0"}]},[o("button",{staticClass:"todo__action prev",on:{click:t.prev}}),o("button",{staticClass:"todo__action next",on:{click:t.next}})])]),o("div",{staticClass:"todo__items"},[o("vue-scroll",[t.note.todos&&!t.note.todos.length?o("div",{staticClass:"todo__empty"},[t._v("To add a task, click the plus sign in the lower left corner")]):t._e(),o("ul",t._l(t.note.todos,(function(e,n){return o("todo-item",{key:n,attrs:{todo:e},on:{"remove-todo":t.removingTodo}})})),1)])],1),o("div",{staticClass:"todo__buttons"},[o("div",[o("button",{staticClass:"todo__handler add",on:{click:t.addTodo}})]),o("div",{staticClass:"todo__note-action"},[o("button",{staticClass:"todo__handler save",on:{click:t.saveNote}}),o("button",{staticClass:"todo__handler remove",on:{click:function(e){t.showModal=!0}}}),o("button",{staticClass:"todo__handler previous-page",on:{click:t.previousPage}})])])]),t.showModal?o("popup",{on:{close:function(e){t.showModal=!1},usersDecision:t.changeDecision}}):t._e()],1)},T=[function(){var t=this,e=t.$createElement,o=t._self._c||e;return o("div",{staticClass:"head center"},[o("h1",[t._v("Note description")])])}],D=(o(7479),o(7714),o(2801),o(1174),function(){var t=this,e=t.$createElement,o=t._self._c||e;return o("li",{staticClass:"todo__item"},[o("input",{directives:[{name:"model",rawName:"v-model",value:t.todo.completed,expression:"todo.completed"}],attrs:{type:"checkbox"},domProps:{checked:Array.isArray(t.todo.completed)?t._i(t.todo.completed,null)>-1:t.todo.completed},on:{change:function(e){var o=t.todo.completed,n=e.target,s=!!n.checked;if(Array.isArray(o)){var i=null,a=t._i(o,i);n.checked?a<0&&t.$set(t.todo,"completed",o.concat([i])):a>-1&&t.$set(t.todo,"completed",o.slice(0,a).concat(o.slice(a+1)))}else t.$set(t.todo,"completed",s)}}}),o("div",{staticClass:"todo__text"},[t.editable?o("input",{directives:[{name:"model",rawName:"v-model",value:t.todo.text,expression:"todo.text"},{name:"click-outside",rawName:"v-click-outside",value:t.isEditMode,expression:"isEditMode"}],attrs:{type:"text"},domProps:{value:t.todo.text},on:{keyup:function(e){if(!e.type.indexOf("key")&&t._k(e.keyCode,"enter",13,e.key,"Enter"))return null;t.editable=!t.editable},input:function(e){e.target.composing||t.$set(t.todo,"text",e.target.value)}}}):o("span",{class:{completed:t.todo.completed},on:{click:function(e){t.editable=!t.editable}}},[t._v(" "+t._s(t.todo.text?t.todo.text:"Double click to edit")+" ")])]),o("div",{staticClass:"todo__btns"},[o("button",{staticClass:"btns-remove",on:{click:function(e){return t.$emit("remove-todo",t.todo)}}})]),o("hr")])}),M=[],E={components:{},props:{todo:{type:Object,default:function(){}}},data:function(){return{editable:!1}},methods:{isEditMode:function(){this.editable=!1}}},P=E,j=(0,a.Z)(P,D,M,!1,null,"24b4d0e2",null),H=j.exports,J={components:{TodoItem:H,Popup:b},data:function(){return{noteId:"",fetchNotes:[],note:{},showModal:!1,usersDecision:!0,noteHistory:[],histotyIndex:0,watching:!0}},watch:{note:{handler:function(t){this.watching?(this.noteHistory.push(JSON.parse(JSON.stringify(t))),this.histotyIndex=this.noteHistory.length-1):this.watching=!0},deep:!0}},mounted:function(){var t=this;if(this.noteId=this.$route.params.noteId,this.fetchNotes=JSON.parse(localStorage.getItem("notes")||[]),this.noteId){var e=this.fetchNotes.findIndex((function(e){return e.noteId===t.noteId}));if(-1===e)return;return this.note=this.fetchNotes[e]}this.note={noteId:btoa(Math.random()).substring(0,6),title:"",todos:[]}},methods:{addTodo:function(){this.note.todos.push({text:"",completed:!1})},removingTodo:function(t){var e=this.note.todos.indexOf(t);this.note.todos.splice(e,1)},changeDecision:function(t){this.usersDecision=t,this.deleteNote()},deleteNote:function(){var t=this,e=this.fetchNotes.findIndex((function(e){return e.noteId===t.noteId}));this.usersDecision&&(-1!==e&&(this.fetchNotes.splice(e,1),localStorage.setItem("notes",JSON.stringify(this.fetchNotes))),this.$router.push("/"))},saveNote:function(){var t=this,e=this.fetchNotes.findIndex((function(e){return e.noteId===t.noteId}));-1===e?this.fetchNotes.push(this.note):this.fetchNotes.splice(e,1,this.note),localStorage.setItem("notes",JSON.stringify(this.fetchNotes)),this.usersDecision&&this.$router.push("/")},previousPage:function(){this.saveNote()},prev:function(){this.watching=!1,this.histotyIndex>0&&(this.histotyIndex-=1,this.note=this.noteHistory[this.histotyIndex])},next:function(){this.watching=!1,this.histotyIndex<this.noteHistory.length-1&&(this.histotyIndex+=1,this.note=this.noteHistory[this.histotyIndex])}}},Z=J,A=(0,a.Z)(Z,S,T,!1,null,"279a8ed9",null),F=A.exports;n["default"].use(l.Z);var q=[{path:"/",name:"HomePage",component:$},{path:"/todos",name:"TodosPage",component:F},{path:"/note/:noteId",name:"Description",component:F}],z=new l.Z({mode:"history",base:"/panda_todo/",routes:q}),B=z,G=o(7804),K=o.n(G),L=o(7536),Q=o.n(L);n["default"].config.productionTip=!1,n["default"].use(K(),{ops:{bar:{background:"#000"}},name:"vueScroll"}),n["default"].use(Q()),new n["default"]({router:B,render:function(t){return t(d)}}).$mount("#app")}},e={};function o(n){var s=e[n];if(void 0!==s)return s.exports;var i=e[n]={exports:{}};return t[n].call(i.exports,i,i.exports,o),i.exports}o.m=t,function(){var t=[];o.O=function(e,n,s,i){if(!n){var a=1/0;for(l=0;l<t.length;l++){n=t[l][0],s=t[l][1],i=t[l][2];for(var r=!0,c=0;c<n.length;c++)(!1&i||a>=i)&&Object.keys(o.O).every((function(t){return o.O[t](n[c])}))?n.splice(c--,1):(r=!1,i<a&&(a=i));if(r){t.splice(l--,1);var d=s();void 0!==d&&(e=d)}}return e}i=i||0;for(var l=t.length;l>0&&t[l-1][2]>i;l--)t[l]=t[l-1];t[l]=[n,s,i]}}(),function(){o.n=function(t){var e=t&&t.__esModule?function(){return t["default"]}:function(){return t};return o.d(e,{a:e}),e}}(),function(){o.d=function(t,e){for(var n in e)o.o(e,n)&&!o.o(t,n)&&Object.defineProperty(t,n,{enumerable:!0,get:e[n]})}}(),function(){o.g=function(){if("object"===typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(t){if("object"===typeof window)return window}}()}(),function(){o.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)}}(),function(){o.r=function(t){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})}}(),function(){var t={143:0};o.O.j=function(e){return 0===t[e]};var e=function(e,n){var s,i,a=n[0],r=n[1],c=n[2],d=0;if(a.some((function(e){return 0!==t[e]}))){for(s in r)o.o(r,s)&&(o.m[s]=r[s]);if(c)var l=c(o)}for(e&&e(n);d<a.length;d++)i=a[d],o.o(t,i)&&t[i]&&t[i][0](),t[i]=0;return o.O(l)},n=self["webpackChunkpanda_todo"]=self["webpackChunkpanda_todo"]||[];n.forEach(e.bind(null,0)),n.push=e.bind(null,n.push.bind(n))}();var n=o.O(void 0,[998],(function(){return o(1212)}));n=o.O(n)})();
//# sourceMappingURL=app-legacy.8d627dd6.js.map